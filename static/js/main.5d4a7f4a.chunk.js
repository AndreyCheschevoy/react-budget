(window["webpackJsonpreact-budget"]=window["webpackJsonpreact-budget"]||[]).push([[0],{20:function(n,t,e){n.exports=e(33)},25:function(n,t,e){},26:function(n,t,e){},33:function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(14),c=e.n(o),i=(e(25),e(1)),l=e(4),u=e(17),s=e(5),d=e(6),m=e(8),f=e(7),p=e(9),h=(e(26),e(2));function b(){var n=Object(i.a)(["\n  font-family: 'Marmelad';\n  color: white;\n  border: 1px solid white;\n  border-radius: 31px;\n  background-color: transparent;\n  margin: 3px;\n  cursor: pointer;\n  text-align: center;\n  padding: 5px 20px;\n"]);return b=function(){return n},n}function g(){var n=Object(i.a)(["\n  width: 150px;\n  margin: 0;\n"]);return g=function(){return n},n}function v(){var n=Object(i.a)(["\n  width: 150px;\n"]);return v=function(){return n},n}function y(){var n=Object(i.a)(["\n  font-family: 'Marmelad';\n  font-size: 20px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  margin-left: 5px;\n  color: white;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n"]);return y=function(){return n},n}function O(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: row;\n  line-height: 1.5;\n"]);return O=function(){return n},n}function x(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return x=function(){return n},n}var E=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(m.a)(this,(n=Object(f.a)(t)).call.apply(n,[this].concat(r)))).state={transaction:null,category:null},e.handleChangeInput=function(n){e.setState(Object(l.a)({},n.target.name,n.target.value))},e.handleEnter=function(){var n=e.props.onSubmit,t=e.state,a=t.transaction,r=t.category;n(-1*Math.abs(parseFloat(a)),r),e.setState({transaction:null,category:null})},e}return Object(p.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this.state,t=n.transaction,e=n.category;return r.a.createElement(j,null,r.a.createElement("dl",null,r.a.createElement(w,null,r.a.createElement(S,null,"\u0412\u043d\u0435\u0441\u0442\u0438 \u0440\u0430\u0441\u0445\u043e\u0434:"),r.a.createElement(D,null,r.a.createElement(Y,{name:"transaction",onChange:this.handleChangeInput,value:t||""}))),r.a.createElement(w,null,r.a.createElement(S,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"),r.a.createElement(D,null,r.a.createElement(Y,{name:"category",onChange:this.handleChangeInput,value:e||""})))),r.a.createElement(M,{onClick:this.handleEnter},"\u0412\u043d\u0435\u0441\u0442\u0438"))}}]),t}(a.Component),j=h.a.article(x()),w=h.a.div(O()),Y=h.a.input(y()),S=h.a.dt(v()),D=h.a.dd(g()),M=h.a.button(b()),k=E;function C(){var n=Object(i.a)(["\n  font-family: 'Marmelad';\n  color: white;\n  border: 1px solid white;\n  border-radius: 31px;\n  background-color: transparent;\n  margin: 3px;\n  cursor: pointer;\n  text-align: center;\n  padding: 5px 20px;\n"]);return C=function(){return n},n}function I(){var n=Object(i.a)(["\n  width: 150px;\n  margin: 0;\n"]);return I=function(){return n},n}function P(){var n=Object(i.a)(["\n  width: 150px;\n"]);return P=function(){return n},n}function T(){var n=Object(i.a)(["\n  font-family: 'Marmelad';\n  font-size: 20px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  margin-left: 5px;\n  color: white;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n"]);return T=function(){return n},n}function A(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: row;\n  line-height: 1.5;\n"]);return A=function(){return n},n}function B(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return B=function(){return n},n}var N=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(m.a)(this,(n=Object(f.a)(t)).call.apply(n,[this].concat(r)))).state={transaction:null,category:null},e.handleChangeInput=function(n){e.setState(Object(l.a)({},n.target.name,n.target.value))},e.handleEnter=function(){var n=e.props.onSubmit,t=e.state,a=t.transaction,r=t.category;n(Math.abs(parseFloat(a)),r),e.setState({transaction:null,category:null})},e}return Object(p.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this.state,t=n.transaction,e=n.category;return r.a.createElement(J,null,r.a.createElement("dl",null,r.a.createElement(z,null,r.a.createElement(W,null,"\u0412\u043d\u0435\u0441\u0442\u0438 \u0434\u043e\u0445\u043e\u0434:"),r.a.createElement(L,null,r.a.createElement(F,{name:"transaction",onChange:this.handleChangeInput,value:t||""}))),r.a.createElement(z,null,r.a.createElement(W,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"),r.a.createElement(L,null,r.a.createElement(F,{name:"category",onChange:this.handleChangeInput,value:e||""})))),r.a.createElement(U,{onClick:this.handleEnter},"\u0412\u043d\u0435\u0441\u0442\u0438"))}}]),t}(a.Component),J=h.a.article(B()),z=h.a.div(A()),F=h.a.input(T()),W=h.a.dt(P()),L=h.a.dd(I()),U=h.a.button(C()),$=N,q=e(3),G=e.n(q);function H(){var n=Object(i.a)(["\n  width: 450px;\n  text-align: right;\n  padding-top: 30px;\n  margin: 0 auto;\n"]);return H=function(){return n},n}function K(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 25px;\n  padding: 40px 0 15px;\n"]);return K=function(){return n},n}function Q(){var n=Object(i.a)(["\n  font-family: 'Marmelad';\n  cursor: pointer;\n  color: white;\n  margin: 0 8px;\n  border-bottom: ",";\n"]);return Q=function(){return n},n}function R(){var n=Object(i.a)(["\n  color: white;\n  border: 1px solid white;\n  border-radius: 50%;\n  background-color: transparent;\n  width: 32px;\n  height: 32px;\n  margin: 3px;\n  cursor: pointer;\n  text-align: center;\n"]);return R=function(){return n},n}function V(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,a)}return e}function X(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?V(e,!0).forEach(function(t){Object(l.a)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):V(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var Z=function(n){function t(n){var e;Object(s.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this,n))).handleAddDay=function(){e.setState({date:e.state.date.add(1,"day")})},e.handleSubtractDay=function(){e.setState({date:e.state.date.subtract(1,"day")})},e.handleNavClick=function(n){e.setState({navSelected:n.target.getAttribute("name")})},e.handleSubmitTransaction=function(n,t){var a=e.state,r=a.date,o=a.transactions,c={date:r.format("DD.MM.YYYY"),category:t,sum:n},i=[].concat(Object(u.a)(o),[c]);i.sort(function(n,t){var e=G()(n.date,"DD.MM.YYYY"),a=G()(t.date,"DD.MM.YYYY");return e.isAfter(a)}),e.setState({transactions:i})},e.onToday=function(){var n=e.state,t=n.transactions,a=n.date,r=t.filter(function(n){var t=n.date;return G()(t,"DD.MM.YYYY").isSame(a,"month")}),o=r.reduce(function(n,t){return t.sum>0?t.sum+n:n},0)/G()(a).daysInMonth(),c=r.filter(function(n){var t=n.date;return G()(t,"DD.MM.YYYY").isBefore(a,"date")||G()(t,"DD.MM.YYYY").isSame(a,"date")}).reduce(function(n,t){var e=t.sum;return e<0?n+e:n},0),i=a.date()*o;return console.log({dailyMoney:o,expanseBeforeToday:c,incomeBeforeToday:i}),(i+c).toFixed(1)};var a,r=localStorage.getItem("state");return a=null!=r?X({},r=JSON.parse(r),{date:G()(r.date)}):{date:G()(),navSelected:"incomes",transactions:[]},e.state=a,e}return Object(p.a)(t,n),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){var n=this.state.date;localStorage.setItem("state",JSON.stringify(X({},this.state,{date:n.format()})))}},{key:"render",value:function(){var n=this.state,t=n.date,e=n.navSelected,a=n.transactions;return r.a.createElement("section",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Budget calculation"),r.a.createElement("div",{className:"dataLine"},r.a.createElement("p",null,t.format("DD.MM.YYYY")),r.a.createElement(_,{onClick:this.handleSubtractDay},"-"),r.a.createElement(_,{onClick:this.handleAddDay},"+")),r.a.createElement("p",null,"\u041d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",this.onToday(),"  \u0433\u0440\u043d.")),r.a.createElement("main",null,r.a.createElement(tn,null,r.a.createElement(nn,{name:"expanse",onClick:this.handleNavClick,selected:"expanse"===e},"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),r.a.createElement(nn,{name:"incomes",onClick:this.handleNavClick,selected:"incomes"===e},"\u0414\u043e\u0445\u043e\u0434\u044b")),"expanse"===e?r.a.createElement(k,{onSubmit:this.handleSubmitTransaction}):r.a.createElement($,{onSubmit:this.handleSubmitTransaction}),r.a.createElement(en,null,r.a.createElement("tbody",null,a.filter(function(n){var e=n.date;return G()(e,"DD.MM.YYYY").isSame(t,"month")}).map(function(n,t){var e=n.date,a=n.sum,o=n.category;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e),r.a.createElement("td",null,a," \u20bd"),r.a.createElement("td",null,o))})))))}}]),t}(a.Component),_=h.a.button(R()),nn=h.a.span(Q(),function(n){return n.selected?"2px solid white":"none"}),tn=h.a.nav(K()),en=h.a.table(H()),an=Z;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(an,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.5d4a7f4a.chunk.js.map